<!-- templates/accounts/profile_update.html -->
{% extends 'base.html' %}
{% load static %}

{% block content %}
<main class="mt-16 sm:mt-20 min-h-screen flex items-center justify-center bg-gray-100">
    <div class="w-full max-w-4xl p-6 sm:p-8 bg-white rounded-lg shadow-lg">
        <h2 class="text-2xl sm:text-3xl font-bold text-hotpink-dark mb-6 text-center">Update Profile</h2>

        <!-- Display Error Messages -->
        {% if messages %}
            {% for message in messages %}
                <div class="mb-4 p-4 text-sm text-red-700 bg-red-100 rounded-lg" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- User Details -->
            <div>
                <h3 class="text-xl font-semibold text-hotpink-dark mb-4">User Details</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    {% for field in user_form %}
                        <div>
                            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">{{ field.label }}</label>
                            {{ field }}
                            {% if field.errors %}
                                <div class="text-sm text-red-600">{{ field.errors }}</div>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Location Details -->
            <div>
                <h3 class="text-xl font-semibold text-hotpink-dark mb-4">Location Details</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    {% for field in location_form %}
                        <div>
                            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">{{ field.label }}</label>
                            {{ field }}
                            {% if field.errors %}
                                <div class="text-sm text-red-600">{{ field.errors }}</div>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Patient Details -->
            <div>
                <h3 class="text-xl font-semibold text-hotpink-dark mb-4">Patient Details</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    {% for field in patient_form %}
                        <div>
                            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">{{ field.label }}</label>
                            {{ field }}
                            {% if field.errors %}
                                <div class="text-sm text-red-600">{{ field.errors }}</div>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Submit Button -->
            <div>
                <button type="submit"
                        class="w-full bg-hotpink text-white px-4 py-2 rounded-lg font-semibold hover:bg-hotpink-light transition duration-300">
                    Update Profile
                </button>
            </div>
        </form>
    </div>
</main>
{% endblock %}