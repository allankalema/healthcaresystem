u left out the following information on the  form,
 the 
Antenatal Progress Examinations
 and this section 
Next of Kin Information
Name: None

Phone: None

Relationship: None

Address: None
 and this information 
and in the  basic info the  phone number 
we need all these in my  page for them to be filled  and lets remove the edit mode and view mode for now 
let  it be straight up edit mode 

and for each table it should be able to fetch the information fo that instance f auser saved in it  and that Is shown first  above it before  the fields to ad more is put at the bottme of it 
 this will aid in both review nd update of the data 
the messages u put in the form should have an x so that I can delete them and diddspaear after 10 seconds  so  help me out make this coe true and return the updated code 
{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}
<main class="mt-16 sm:mt-20 min-h-screen flex items-center justify-center bg-gray-100">
    <div class="w-full max-w-6xl p-6 sm:p-8 bg-white rounded-lg shadow-lg">
        <!-- Ministry of Health Emblem -->
        <div class="flex justify-center mb-6">
            <img src="{{ MEDIA_URL }}images/emblem.png" alt="Ministry of Health Symbol" class="w-24 h-24">
        </div>

        <h2 class="text-2xl sm:text-3xl font-bold text-green-600 mb-6 text-center">Patient Details: {{ antenatal_card.name }}</h2>

        <!-- Mode Toggle -->
        <div class="mb-6 flex justify-center space-x-4">
            <label class="inline-flex items-center">
                <input type="radio" name="mode" value="view" checked class="form-radio text-green-600" onchange="toggleEditMode(false)">
                <span class="ml-2">View Mode</span>
            </label>
            <label class="inline-flex items-center">
                <input type="radio" name="mode" value="edit" class="form-radio text-green-600" onchange="toggleEditMode(true)">
                <span class="ml-2">Edit Mode</span>
            </label>
        </div>

        <!-- Uneditable Patient Information -->
        <div class="mb-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">Patient Information</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700">Name</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.name }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">NIN</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.nin }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Phone Number</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.phone_no }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Village</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.village }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Parish</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.parish }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">District</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.district }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Occupation</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.occupation }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Marital Status</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.marital_status }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Next of Kin</label>
                    <p class="mt-1 text-gray-900">{{ antenatal_card.next_of_kin_name }} ({{ antenatal_card.next_of_kin_relationship }})</p>
                </div>
            </div>
        </div>

        <!-- Editable Antenatal Card Details -->
        <div class="mb-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">Antenatal Card Details</h3>
            <form method="post" class="space-y-4">
                {% csrf_token %}
                <input type="hidden" name="update_antenatal_card" value="true">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div>
                        <label for="health_unit" class="block text-sm font-medium text-gray-700">Health Unit</label>
                        <input type="text" id="health_unit" name="health_unit" value="{{ antenatal_card.health_unit }}" disabled
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-600 focus:border-green-600">
                    </div>
                    <div>
                        <label for="reg_no" class="block text-sm font-medium text-gray-700">Registration Number</label>
                        <input type="text" id="reg_no" name="reg_no" value="{{ antenatal_card.reg_no }}" disabled
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-600 focus:border-green-600">
                    </div>
                    <div>
                        <label for="next_visit" class="block text-sm font-medium text-gray-700">Next Visit</label>
                        <input type="datetime-local" id="next_visit" name="next_visit" value="{{ antenatal_card.next_visit|date:'Y-m-d\TH:i' }}"
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-600 focus:border-green-600">
                    </div>
                    <!-- Add more editable fields here -->
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-300">
                        Update Antenatal Card
                    </button>
                </div>
            </form>
        </div>

        <!-- Previous Obstetric History -->
        <div class="mb-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">Previous Obstetric History</h3>
            <form method="post" class="space-y-4">
                {% csrf_token %}
                <input type="hidden" name="add_previous_obstetric_history" value="true">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    {% for field in previous_obstetric_history_form %}
                        <div>
                            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">{{ field.label }}</label>
                            {{ field|add_class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-600 focus:border-green-600" }}
                        </div>
                    {% endfor %}
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-300">
                        Add History
                    </button>
                </div>
            </form>
            <div class="mt-4 space-y-2">
                {% for history in previous_histories %}
                    <div class="p-4 bg-green-50 rounded-lg shadow-sm">
                        <p class="text-gray-700">{{ history }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Antenatal Progress Examinations -->
        <div class="mb-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">Antenatal Progress Examinations</h3>
            <form method="post" class="space-y-4">
                {% csrf_token %}
                <input type="hidden" name="add_antenatal_progress" value="true">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    {% for field in antenatal_progress_form %}
                        <div>
                            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">{{ field.label }}</label>
                            {{ field|add_class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-600 focus:border-green-600" }}
                        </div>
                    {% endfor %}
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-300">
                        Add Progress
                    </button>
                </div>
            </form>
            <div class="mt-4 space-y-2">
                {% for progress in progress_examinations %}
                    <div class="p-4 bg-green-50 rounded-lg shadow-sm">
                        <p class="text-gray-700">{{ progress }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Ultrasound Reports -->
        <div class="mb-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">Ultrasound Reports</h3>
            <form method="post" class="space-y-4">
                {% csrf_token %}
                <input type="hidden" name="add_ultrasound_report" value="true">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    {% for field in ultrasound_report_form %}
                        <div>
                            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">{{ field.label }}</label>
                            {{ field|add_class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-600 focus:border-green-600" }}
                        </div>
                    {% endfor %}
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-300">
                        Add Report
                    </button>
                </div>
            </form>
            <div class="mt-4 space-y-2">
                {% for report in ultrasound_reports %}
                    <div class="p-4 bg-green-50 rounded-lg shadow-sm">
                        <p class="text-gray-700">{{ report }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</main>

<!-- JavaScript to Toggle Edit Mode -->
<script>
    function toggleEditMode(enable) {
        const inputs = document.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            if (input.name !== 'mode') { // Exclude the mode radio buttons
                input.disabled = !enable;
            }
        });
    }

    // Initialize in View Mode
    toggleEditMode(false);
</script>
{% endblock %}
 view